<!DOCTYPE html>
<html lang="es">
<head>
    <title>Subir Archivos</title>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <!-- CSS principal -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <!-- CSS del scrollbar personalizado -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery.mCustomScrollbar.min.css') }}">
</head>

<body>
    <!-- Barra verde superior -->
    <div class="green-bar"></div>

    <!-- SideBar -->
    <section class="full-box cover dashboard-sideBar">
        <div class="full-box dashboard-sideBar-bg btn-menu-dashboard"></div>
        <div class="full-box dashboard-sideBar-ct">
            <!-- Título de la barra lateral -->
            <div class="full-box text-uppercase text-center text-titles dashboard-sideBar-title">
                Lenguaje de Señas <i class="zmdi zmdi-close btn-menu-dashboard visible-xs"></i>
            </div>
            <!-- Información del usuario -->
            <div class="full-box dashboard-sideBar-UserInfo">
                <figure class="full-box">
                    <img src="/static/assets/img/avatar.jpg" alt="UserIcon">
                    <figcaption class="text-center text-titles">User Name</figcaption>
                </figure>
                <ul class="full-box list-unstyled text-center">
                    <li><a href="#!"><i class="zmdi zmdi-settings"></i></a></li>
                    <li><a href="#!" class="btn-exit-system"><i class="zmdi zmdi-power"></i></a></li>
                </ul>
            </div>
            <!-- Menú de la Barra Lateral -->
            <ul class="list-unstyled full-box dashboard-sideBar-Menu">
                <li>
                    <a href="{{ url_for('home') }}">
                        <i class="zmdi zmdi-view-dashboard zmdi-hc-fw"></i> Tablero
                    </a>
                </li>
                <li>
                    <a href="#!" class="btn-sideBar-SubMenu">
                        <i class="zmdi zmdi-case zmdi-hc-fw"></i> Administración <i
                                class="zmdi zmdi-caret-down pull-right"></i>
                    </a>
                    <ul class="list-unstyled full-box">
                        <li>
                            <a href="{{ url_for('salon') }}"><i class="zmdi zmdi-font zmdi-hc-fw"></i> Subir Archivos</a>
                        </li>
                        <li>
                            <a href="{{ url_for('practicarLS') }}"><i class="zmdi zmdi-font zmdi-hc-fw"></i> Practicar Lenguaje de Señas</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="#!" class="btn-sideBar-SubMenu">
                        <i class="zmdi zmdi-account-add zmdi-hc-fw"></i> Usuarios <i
                                class="zmdi zmdi-caret-down pull-right"></i>
                    </a>
                    <ul class="list-unstyled full-box">
                        <li>
                            <a href="{{ url_for('admin') }}"><i class="zmdi zmdi-account zmdi-hc-fw"></i> Admin</a>
                        </li>
                        <li>
                            <a href="{{ url_for('teacher') }}"><i class="zmdi zmdi-male-alt zmdi-hc-fw"></i> Profesor</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </section>

    <!-- Página de contenido -->
    <section class="full-box dashboard-contentPage" style="margin-top: 50px;">
        <div class="container-fluid">
            <div class="page-header">
                <h1 class="text-titles"><i class="zmdi zmdi-upload zmdi-hc-fw"></i> Subir Archivos <small>Gestión de Archivos</small></h1>
            </div>
            <ul class="nav nav-tabs" style="margin-bottom: 15px;">
                <li class="active"><a href="#new" data-toggle="tab">Utiliza el siguiente formulario para subir archivos relevantes.</a></li>
            </ul>
        </div>

        <!-- Formulario para subir archivos -->
        <div class="container-fluid">
            <div class="row">  <!-- Nueva fila agregada aquí -->
                <div class="col-xs-12 col-md-10 col-md-offset-1">
                    <form action="/subir_archivo" method="post" enctype="multipart/form-data">
                        <fieldset>Subida de Archivos PDF</fieldset>
                        
                        <div class="form-group">
                            <label class="control-label">Seleccionar Archivo (PDF)</label>
                            <input class="form-control" type="file" name="archivo" accept="application/pdf" required onchange="updateFileName(this)">
                        </div>
                        <p id="file-name" class="text-center" style="margin-top: 10px;"></p>
                        <p class="text-center">
                            <button type="submit" class="btn btn-info btn-raised btn-sm"><i
                                    class="zmdi zmdi-upload"></i> Subir Archivo</button>
                        </p>
                    </form>
                </div>
            </div>  <!-- Cierra la nueva fila -->
        </div>

        <!-- Mostrar archivos subidos -->
        <div class="container-fluid" style="margin-top: 20px;">
            <h2 class="text-titles">Archivos Subidos</h2>
            <div class="row">  <!-- Nueva fila agregada aquí -->
                <ul class="list-unstyled">
                    {% if archivos and archivos|length > 0 %}
                        {% for archivo in archivos %}
                            <li>
                                <a href="{{ url_for('static', filename='uploads/' + archivo) }}" target="_blank">{{ archivo }}</a>
                            </li>
                        {% endfor %}
                    {% else %}
                        <li>No hay archivos subidos.</li>
                    {% endif %}
                </ul>
            </div>  <!-- Cierra la nueva fila -->
        </div>
    </section>

    <!-- Archivos JS necesarios -->
    <script src="{{ url_for('static', filename='js/jquery-3.1.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/sweetalert2.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/material.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ripples.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.mCustomScrollbar.concat.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>

    <!-- Inicialización de scripts -->
    <script>
        // Inicializar Material Design
        $.material.init();

        // Inicializar scrollbar personalizado
        $(document).ready(function () {
            $(".dashboard-sideBar, .dashboard-contentPage").mCustomScrollbar({
                theme: "minimal-dark"
            });
        });

        // Función para mostrar el nombre del archivo seleccionado
        function updateFileName(input) {
            const fileName = input.files[0] ? input.files[0].name : 'No file chosen';
            document.getElementById('file-name').innerText = fileName;
        }
    </script>
</body>
</html>
